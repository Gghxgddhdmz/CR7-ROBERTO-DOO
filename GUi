local GUI = {}

local Player = game.Players.LocalPlayer
local ScreenGui = Instance.new("ScreenGui", Player:WaitForChild("PlayerGui"))
ScreenGui.Name = "TabbedHubGUI"
ScreenGui.ResetOnSpawn = false

local Main, TabHolder, ContentHolder
local Tabs = {}

function GUI.MakeWindow(settings)
	local hub = settings.Hub or {}

	-- Main Frame
	Main = Instance.new("Frame", ScreenGui)
	Main.Size = UDim2.new(0, 600, 0, 400)
	Main.Position = UDim2.new(0.3, 0, 0.3, 0)
	Main.BackgroundColor3 = Color3.fromRGB(0, 0, 0)  -- ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³ÙˆØ¯
	Main.BackgroundTransparency = 0  -- Ø¬Ø¹Ù„Ù‡Ø§ ØºÙŠØ± Ø´ÙØ§ÙØ©
	Main.BorderSizePixel = 0
	Main.Active = true
	Main.Draggable = true
	Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 12)

	-- Title
	local Title = Instance.new("TextLabel", Main)
	Title.Size = UDim2.new(1, 0, 0, 40)
	Title.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Ø®Ù„ÙÙŠØ© Ø³ÙˆØ¯Ø§Ø¡
	Title.BackgroundTransparency = 1
	Title.Text = "ğŸŒ " .. (hub.Title or "My Hub")
	Title.Font = Enum.Font.GothamBold
	Title.TextSize = 18
	Title.TextColor3 = Color3.fromRGB(255, 0, 0) -- Ù†Øµ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø±
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Instance.new("UICorner", Title).CornerRadius = UDim.new(0, 12)

	-- Ø²Ø± ØªØµØºÙŠØ± Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰
	local collapseBtn = Instance.new("ImageButton", Title)
	collapseBtn.Size = UDim2.new(0, 24, 0, 24)
	collapseBtn.Position = UDim2.new(1, -30, 0.5, -12)
	collapseBtn.Image = "rbxassetid://15507434243"
	collapseBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
	collapseBtn.BackgroundTransparency = 1
	Instance.new("UICorner", collapseBtn).CornerRadius = UDim.new(1, 0)

	local collapsed = false
	collapseBtn.MouseButton1Click:Connect(function()
		collapsed = not collapsed
		if TabHolder then TabHolder.Visible = not collapsed end
		if ContentHolder then ContentHolder.Visible = not collapsed end
	end)

	-- Tab Buttons Holder (Left)
	TabHolder = Instance.new("Frame", Main)
	TabHolder.Size = UDim2.new(0, 150, 1, -40)
	TabHolder.Position = UDim2.new(0, 0, 0, 40)
	TabHolder.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Ø®Ù„ÙÙŠØ© Ø³ÙˆØ¯Ø§Ø¡
	TabHolder.BackgroundTransparency = 1
	Instance.new("UICorner", TabHolder).CornerRadius = UDim.new(0, 12)

	-- Tab Content Holder (Right)
	ContentHolder = Instance.new("Frame", Main)
	ContentHolder.Size = UDim2.new(1, -160, 1, -50)
	ContentHolder.Position = UDim2.new(0, 160, 0, 50)
	ContentHolder.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Ø®Ù„ÙÙŠØ© Ø³ÙˆØ¯Ø§Ø¡
	ContentHolder.BackgroundTransparency = 1
	Instance.new("UICorner", ContentHolder).CornerRadius = UDim.new(0, 12)
end

function GUI.NewTab(tabName)
	local Tab = {}
	local y = 10

	local button = Instance.new("TextButton", TabHolder)
	button.Size = UDim2.new(1, -20, 0, 40)
	button.Position = UDim2.new(0, 10, 0, 10 + #Tabs * 45)
	button.Text = tabName
	button.BackgroundColor3 = Color3.fromRGB(50, 50, 50) -- ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠ
	button.BackgroundTransparency = 0.5
	button.TextColor3 = Color3.fromRGB(255, 0, 0)  -- Ø§Ù„Ù†Øµ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø±
	button.Font = Enum.Font.Gotham
	button.TextSize = 14
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 8)

	local frame = Instance.new("Frame", ContentHolder)
	frame.Name = tabName
	frame.Size = UDim2.new(1, 0, 1, 0)
	frame.BackgroundTransparency = 1
	frame.Visible = (#Tabs == 0)

	button.MouseButton1Click:Connect(function()
		for _, t in pairs(ContentHolder:GetChildren()) do
			if t:IsA("Frame") then t.Visible = false end
		end
		frame.Visible = true
	end)

	-- Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø²Ø±Ø§Ø±
	function Tab:AddButton(info)
		local btn = Instance.new("TextButton", frame)
		btn.Size = UDim2.new(0, 400, 0, 40)
		btn.Position = UDim2.new(0, 20, 0, y)
		btn.Text = info.Name or "Ø²Ø±"
		btn.BackgroundColor3 = Color3.fromRGB(50, 50, 50) -- ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠ
		btn.BackgroundTransparency = 0.5
		btn.TextColor3 = Color3.fromRGB(255, 0, 0)  -- Ø§Ù„Ù†Øµ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø±
		btn.Font = Enum.Font.Gotham
		btn.TextSize = 14
		Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)

		btn.MouseButton1Click:Connect(function()
			pcall(info.Callback)
		end)

		y = y + 50
	end

	-- Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ Ù…Ø«Ù„ Textbox Ùˆ Slider
	function Tab:AddTextbox(info)
		local box = Instance.new("TextBox", frame)
		box.Size = UDim2.new(0, 400, 0, 40)
		box.Position = UDim2.new(0, 20, 0, y)
		box.PlaceholderText = info.Name or "Textbox"
		box.Text = info.Default or ""
		box.BackgroundColor3 = Color3.fromRGB(50, 50, 50) -- ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠ
		box.BackgroundTransparency = 0.5
		box.TextColor3 = Color3.fromRGB(255, 0, 0)  -- Ø§Ù„Ù†Øµ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø±
		box.Font = Enum.Font.Gotham
		box.TextSize = 14
		Instance.new("UICorner", box).CornerRadius = UDim.new(0, 8)

		box.FocusLost:Connect(function(enter)
			if enter and info.Callback then
				pcall(info.Callback, box.Text)
				if info.TextDisappear then
					box.Text = ""
				end
			end
		end)

		y = y + 50
	end

	-- ØªØ§Ø¨Ø¹ Ø¥Ø¶Ø§ÙØ© Ø£Ø¯ÙˆØ§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Slider, Toggle, Section...)
	-- ÙŠÙ…ÙƒÙ†Ùƒ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø¨Ù‡Ø© Ù‡Ù†Ø§ Ù„Ø£Ø¯ÙˆØ§Øª Ø£Ø®Ø±Ù‰

	table.insert(Tabs, Tab)
	return Tab
end

function GUI.MinimizeButton(config)
	local btn = Instance.new("ImageButton")
	btn.Size = UDim2.new(0, config.Size[1], 0, config.Size[2])
	btn.Position = UDim2.new(0, 10, 0, 10)
	btn.Image = config.Image
	btn.BackgroundColor3 = config.Color or Color3.fromRGB(50, 50, 50) -- Ø®Ù„ÙÙŠØ© Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³ÙˆØ¯
	btn.BackgroundTransparency = 1
	btn.Parent = ScreenGui

	if config.Corner then
		Instance.new("UICorner", btn).CornerRadius = UDim.new(1, 0)
	end

	if config.Stroke then
		local stroke = Instance.new("UIStroke", btn)
		stroke.Color = config.StrokeColor or Color3.fromRGB(255, 0, 0) -- ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø± Ù„Ù„ØªØ­Ø¯ÙŠØ¯
	end

	local hidden = false
	btn.MouseButton1Click:Connect(function()
		hidden = not hidden
		Main.Visible = not hidden
	end)
end

return GUI
