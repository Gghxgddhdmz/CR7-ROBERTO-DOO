local GuiLib = {}
local UIS = game:GetService("UserInputService")

-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø´Ø§Ø´Ø©
local screenGui = Instance.new("ScreenGui", game.CoreGui)
screenGui.Name = "CustomOrionGUI"

-- Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
local MainFrame = Instance.new("Frame", screenGui)
MainFrame.Size = UDim2.new(0, 600, 0, 400)
MainFrame.Position = UDim2.new(0.3, 0, 0.3, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 10)
MainFrame.ClipsDescendants = true

-- Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Text = "ğŸ® GUI HUB"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.TextScaled = true
Title.Font = Enum.Font.GothamBold

-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
local TabsHolder = Instance.new("Frame", MainFrame)
TabsHolder.Size = UDim2.new(0, 140, 1, -40)
TabsHolder.Position = UDim2.new(0, 0, 0, 40)
TabsHolder.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Instance.new("UICorner", TabsHolder).CornerRadius = UDim.new(0, 6)

local UIListTabs = Instance.new("UIListLayout", TabsHolder)
UIListTabs.SortOrder = Enum.SortOrder.LayoutOrder
UIListTabs.Padding = UDim.new(0, 6)

local Pages = Instance.new("Folder", MainFrame)

-- Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ø¹ Ø§Ù„ØªØºÙˆÙŠØ´
local LoadingFrame = Instance.new("Frame", screenGui)
LoadingFrame.Size = UDim2.new(1, 0, 1, 0)
LoadingFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
LoadingFrame.BackgroundTransparency = 0.5

local LoadingLabel = Instance.new("TextLabel", LoadingFrame)
LoadingLabel.Size = UDim2.new(1, 0, 1, 0)
LoadingLabel.Text = "Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©..."
LoadingLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
LoadingLabel.BackgroundTransparency = 1
LoadingLabel.TextScaled = true
LoadingLabel.Font = Enum.Font.GothamBold

local blurEffect = Instance.new("BlurEffect")
blurEffect.Size = 20
blurEffect.Parent = game.Lighting

-- âœ… MakeWindow
function GuiLib.MakeWindow(settings)
	Title.Text = settings.Hub.Title or "GUI Hub"
end

-- âœ… NewTab
function GuiLib.NewTab(name)
	local button = Instance.new("TextButton", TabsHolder)
	button.Size = UDim2.new(1, -10, 0, 30)
	button.Text = name
	button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	button.TextColor3 = Color3.fromRGB(255, 255, 255)
	button.Font = Enum.Font.Gotham
	button.TextScaled = true
	Instance.new("UICorner", button).CornerRadius = UDim.new(0, 6)

	local tabPage = Instance.new("ScrollingFrame", Pages)
	tabPage.Size = UDim2.new(1, -150, 1, -50)
	tabPage.Position = UDim2.new(0, 150, 0, 40)
	tabPage.Visible = false
	tabPage.CanvasSize = UDim2.new(0, 0, 0, 0)
	tabPage.ScrollBarThickness = 4
	tabPage.BackgroundTransparency = 1
	local layout = Instance.new("UIListLayout", tabPage)
	layout.SortOrder = Enum.SortOrder.LayoutOrder
	layout.Padding = UDim.new(0, 6)

	button.MouseButton1Click:Connect(function()
		for _, child in pairs(Pages:GetChildren()) do
			child.Visible = false
		end
		tabPage.Visible = true
	end)

	return tabPage
end

-- âœ… AddSection
function GuiLib.AddSection(tab, text)
	local label = Instance.new("TextLabel", tab)
	label.Size = UDim2.new(1, -20, 0, 25)
	label.Text = "ğŸ”¹ " .. text
	label.TextColor3 = Color3.fromRGB(160, 160, 255)
	label.BackgroundTransparency = 1
	label.TextScaled = true
	label.Font = Enum.Font.GothamMedium
end

-- âœ… AddButton
function GuiLib.AddButton(tab, settings)
	local btn = Instance.new("TextButton", tab)
	btn.Size = UDim2.new(1, -20, 0, 35)
	btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	btn.Text = settings.Name or "Button"
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.Font = Enum.Font.Gotham
	btn.TextScaled = true
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

	btn.MouseButton1Click:Connect(function()
		pcall(settings.Callback)
	end)
end

-- âœ… AddSlider
function GuiLib.AddSlider(tab, settings)
	local slider = Instance.new("TextButton", tab)
	slider.Size = UDim2.new(1, -20, 0, 35)
	slider.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
	slider.Text = settings.Name .. ": " .. settings.Default
	slider.TextColor3 = Color3.fromRGB(255, 255, 255)
	slider.TextScaled = true
	slider.Font = Enum.Font.Gotham
	Instance.new("UICorner", slider).CornerRadius = UDim.new(0, 6)

	local value = settings.Default

	slider.MouseButton1Click:Connect(function()
		value = (value + settings.Increment)
		if value > settings.Max then value = settings.Min end
		slider.Text = settings.Name .. ": " .. value
		pcall(settings.Callback, value)
	end)
end

-- âœ… AddKeybind
function GuiLib.AddKeybind(tab, settings)
	local keybind = Instance.new("TextButton", tab)
	keybind.Size = UDim2.new(1, -20, 0, 35)
	keybind.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
	keybind.Text = "ğŸ”‘ " .. (settings.Name or "Keybind") .. ": [" .. tostring(settings.Default) .. "]"
	keybind.TextColor3 = Color3.fromRGB(255, 255, 255)
	keybind.Font = Enum.Font.Gotham
	keybind.TextScaled = true
	Instance.new("UICorner", keybind).CornerRadius = UDim.new(0, 6)

	local currentKey = settings.Default

	keybind.MouseButton1Click:Connect(function()
		keybind.Text = "Press any key..."
		local conn
		conn = UIS.InputBegan:Connect(function(input, gameProcessed)
			if not gameProcessed and input.UserInputType == Enum.UserInputType.Keyboard then
				currentKey = input.KeyCode
				keybind.Text = "ğŸ”‘ " .. settings.Name .. ": [" .. tostring(currentKey) .. "]"
				conn:Disconnect()
			end
		end)
	end)

	UIS.InputBegan:Connect(function(input, gameProcessed)
		if input.KeyCode == currentKey then
			pcall(settings.Callback)
		end
	end)
end

-- âœ… AddTextBox
function GuiLib.AddTextBox(tab, settings)
	local box = Instance.new("TextBox", tab)
	box.Size = UDim2.new(1, -20, 0, 35)
	box.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	box.Text = settings.PlaceholderText or ""
	box.TextColor3 = Color3.fromRGB(255, 255, 255)
	box.PlaceholderText = settings.PlaceholderText or "Ø§ÙƒØªØ¨ Ù‡Ù†Ø§"
	box.Font = Enum.Font.Gotham
	box.TextScaled = true
	Instance.new("UICorner", box).CornerRadius = UDim.new(0, 6)

	box.FocusLost:Connect(function(enterPressed)
		if enterPressed then
			pcall(settings.Callback, box.Text)
		end
	end)
end

-- âœ… AddDropdown
function GuiLib.AddDropdown(tab, settings)
	local dropdown = Instance.new("TextButton", tab)
	dropdown.Size = UDim2.new(1, -20, 0, 35)
	dropdown.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	dropdown.Text = "â–¼ " .. (settings.Name or "Ø§Ø®ØªÙŠØ§Ø±")
	dropdown.TextColor3 = Color3.fromRGB(255, 255, 255)
	dropdown.TextScaled = true
	dropdown.Font = Enum.Font.Gotham
	Instance.new("UICorner", dropdown).CornerRadius = UDim.new(0, 6)

	local open = false
	local buttons = {}

	dropdown.MouseButton1Click:Connect(function()
		open = not open
		for _, b in pairs(buttons) do b.Visible = open end
	end)

	for _, item in pairs(settings.Options) do
		local opt = Instance.new("TextButton", tab)
		opt.Size = UDim2.new(1, -40, 0, 30)
		opt.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
		opt.Text = "â€¢ " .. item
		opt.TextColor3 = Color3.fromRGB(200, 200, 200)
		opt.Font = Enum.Font.Gotham
		opt.TextScaled = true
		opt.Visible = false
		Instance.new("UICorner", opt).CornerRadius = UDim.new(0, 5)

		opt.MouseButton1Click:Connect(function()
			dropdown.Text = "âœ” " .. item
			pcall(settings.Callback, item)
			for _, b in pairs(buttons) do b.Visible = false end
			open = false
		end)

		table.insert(buttons, opt)
	end
end

-- âœ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… loadstring
local function LoadScript()
	local scriptUrl = "https://your-script-url-here.com/script.lua" -- Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ ØªØ­Ù…ÙŠÙ„Ù‡
	local script = loadstring(game:HttpGet(scriptUrl))()
	script() -- Ù†ÙØ° Ø§Ù„Ø³ÙƒØ±Ø¨Øª
end

-- âœ… ØªØ£Ø«ÙŠØ± Ø§Ù„ØªØ­Ù…ÙŠÙ„
task.delay(3, function()
	LoadingFrame:Destroy()
	blurEffect.Size = 0

	-- Ø¨Ø¹Ø¯ Ø£Ù† ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§ØªØŒ Ù‚Ù… Ø¨ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª
	LoadScript()
end)

----------------------------------------------------------------
return GuiLib
